<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">

<!--Converted with LaTeX2HTML 2008 (1.71)
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>Support of C language on PIC-18 architecture</TITLE>
<META NAME="description" CONTENT="Support of C language on PIC-18 architecture">
<META NAME="keywords" CONTENT="cpik-doc">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="LaTeX2HTML v2008">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="cpik-doc.css">

<LINK REL="next" HREF="node39.html">
<LINK REL="previous" HREF="node14.html">
<LINK REL="up" HREF="cpik-doc.html">
<LINK REL="next" HREF="node27.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A NAME="tex2html547"
  HREF="node27.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html543"
  HREF="cpik-doc.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html537"
  HREF="node25.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html545"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html548"
  HREF="node27.html">Stacks</A>
<B> Up:</B> <A NAME="tex2html544"
  HREF="cpik-doc.html">cpik C compiler for</A>
<B> Previous:</B> <A NAME="tex2html538"
  HREF="node25.html">#pragma noreturn</A>
 &nbsp; <B>  <A NAME="tex2html546"
  HREF="node1.html">Contents</A></B> 
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H1><A NAME="SECTION000120000000000000000">
Support of C language on PIC-18 architecture</A>
</H1>
<B>cpik</B> generates code for PIC-18 processors running in legacy (ie: non-enhanced) mode.
The PIC-18 core is fundamentally a 8 bit processor with 16 bit pointers and distinct program/data  spaces. 
From the C programmer point of view, up to 64K bytes of program space and 64K bytes of data space are available.
Pointers generally point to data space, but  pointers to function point 
to program space. 
Programs can be larger than 64K bytes (when the device has enough memory), but  pointers to functions can only reach the lower 64 KB of memory. This is not an issue because it is easy to force the addresses of target functions to be less than
<TT>0xFFFF</TT>.

<P>
<TT>cpik</TT> has  been designed to produce a stack-based code. This kind of code is easy to understand, robust and 
potentially reentrant without any trick. Interruptions are easy to support (see  section <A HREF="node65.html#ISR">12.12.5</A> for details).
Thanks to auto-incremented and indirect addressing modes, this design leads to efficient code.

<P>
The memory model is flat and covers the totality of program/data spaces. 
There is no banks, "small" stacks, "far" pointers or other tricky ways to save memory but to confuse  everybody.

<P>
<BR><HR>
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL CLASS="ChildLinks">
<LI><A NAME="tex2html549"
  HREF="node27.html">Stacks</A>
<LI><A NAME="tex2html550"
  HREF="node28.html">Memory layout</A>
<LI><A NAME="tex2html551"
  HREF="node29.html">Register usage</A>
<LI><A NAME="tex2html552"
  HREF="node30.html">Computation model</A>
<LI><A NAME="tex2html553"
  HREF="node31.html">Function calling conventions</A>
<LI><A NAME="tex2html554"
  HREF="node32.html">Stack frame allocation and interrupts</A>
<LI><A NAME="tex2html555"
  HREF="node33.html">Optimizations</A>
<LI><A NAME="tex2html556"
  HREF="node34.html">Data in ROM</A>
<UL>
<LI><A NAME="tex2html557"
  HREF="node35.html">Creating a block of data in ROM</A>
<LI><A NAME="tex2html558"
  HREF="node36.html">Passing immediate ROM data to a subroutine</A>
<LI><A NAME="tex2html559"
  HREF="node37.html">Passing ROM data to a subroutine with a pointer to ROM</A>
<LI><A NAME="tex2html560"
  HREF="node38.html">Accessing data in ROM with a ROM accessor</A>
</UL></UL>
<!--End of Table of Child-Links-->

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A NAME="tex2html547"
  HREF="node27.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html543"
  HREF="cpik-doc.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html537"
  HREF="node25.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html545"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A>  
<BR>
<B> Next:</B> <A NAME="tex2html548"
  HREF="node27.html">Stacks</A>
<B> Up:</B> <A NAME="tex2html544"
  HREF="cpik-doc.html">cpik C compiler for</A>
<B> Previous:</B> <A NAME="tex2html538"
  HREF="node25.html">#pragma noreturn</A>
 &nbsp; <B>  <A NAME="tex2html546"
  HREF="node1.html">Contents</A></B> </DIV>
<!--End of Navigation Panel-->
<ADDRESS>
Alain Gibaud
2015-07-09
</ADDRESS>
</BODY>
</HTML>
